# Архитектура сервиса доставки CDEK

Этот проект представляет собой описание архитектуры сервиса доставки CDEK в стиле **Architecture As A Code** с использованием инструмента **Structurizr DSL**. Цель работы — разработать модель системы, которая включает пользователей, посылки и доставки, а также описать взаимодействие между компонентами системы.

---

## Описание системы

Сервис доставки CDEK позволяет пользователям:
- Регистрироваться и аутентифицироваться.
- Создавать и управлять посылками.
- Создавать доставки от одного пользователя к другому.
- Отслеживать статус доставок.

Администраторы системы могут:
- Управлять посылками (добавлять, обновлять, удалять).
- Управлять доставками (отслеживать статус, обновлять информацию).

---

## Основные сущности системы

1. **Пользователь**:
   - Регистрация и аутентификация.
   - Создание посылок.
   - Создание доставок.
   - Просмотр информации о доставках.

2. **Посылка**:
   - Создание посылки.
   - Просмотр списка посылок.
   - Управление посылками (администратор).

3. **Доставка**:
   - Создание доставки.
   - Отслеживание статуса доставки.
   - Получение информации о доставке по отправителю или получателю.

---

## API системы

Сервис предоставляет следующие API:

### Пользователь
- Создание нового пользователя.
- Поиск пользователя по логину.
- Поиск пользователя по маске имени и фамилии.

### Посылка
- Создание посылки.
- Получение списка посылок пользователя.

### Доставка
- Создание доставки от пользователя к пользователю.
- Получение информации о доставке по получателю.
- Получение информации о доставке по отправителю.

---

## Архитектура системы

Архитектура системы описана в формате **Structurizr DSL** и включает следующие компоненты:

### 1. **Software System**
- **Delivery Service Platform** — основная система, которая включает:
  - **User Service**: Управление пользователями (регистрация, аутентификация).
  - **Package Service**: Управление посылками (создание, поиск, обновление).
  - **Delivery Service**: Управление доставками (создание, отслеживание).

### 2. **Контейнеры**
- **User Service**: Реализован на Python FastAPI, отвечает за управление пользователями.
- **Package Service**: Реализован на Python FastAPI, отвечает за управление посылками.
- **Delivery Service**: Реализован на Python FastAPI, отвечает за управление доставками.

### 3. **Взаимодействие между контейнерами**
- Пользователь взаимодействует с **User Service** для регистрации и аутентификации.
- Пользователь взаимодействует с **Package Service** для создания и управления посылками.
- Пользователь взаимодействует с **Delivery Service** для создания и отслеживания доставок.
- **Package Service** инициирует доставку через **Delivery Service**.

### 4. **Технологии**
- **Backend**: Python FastAPI.
- **База данных**: PostgreSQL.
- **Инфраструктура**: Kubernetes, API Gateway.

---

## Диаграммы

### 1. **System Context Diagram**
Показывает взаимодействие пользователей и внешних систем с основной системой доставки.

### 2. **Container Diagram**
Отображает основные контейнеры системы и их взаимодействие.

### 3. **Dynamic Diagram**
Иллюстрирует ключевые сценарии использования, такие как:
- Создание и отслеживание доставки.
- Управление посылками администратором.
